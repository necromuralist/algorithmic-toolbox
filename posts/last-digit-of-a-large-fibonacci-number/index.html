<!DOCTYPE html>
<html prefix="og: http://ogp.me/ns# article: http://ogp.me/ns/article# " lang="en">
<head>
<meta charset="utf-8">
<meta name="description" content="Finding the last digit of a large fibonacci number.">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Last Digit of a Large Fibonacci Number | Algorithmic Toolbox</title>
<link href="../../assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<link href="../../assets/css/ipython.min.css" rel="stylesheet" type="text/css">
<link href="../../assets/css/nikola_ipython.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="alternate" type="application/rss+xml" title="RSS" href="../../rss.xml">
<link rel="canonical" href="https://github.com/necromuralist/algorithmic_toolbox/posts/last-digit-of-a-large-fibonacci-number/">
<!--[if lt IE 9]><script src="../../assets/js/html5.js"></script><![endif]--><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.4/latest.js?config=TeX-MML-AM_CHTML" async></script><meta name="author" content="Cloistered Monkey">
<link rel="prev" href="../fibonacci-number/" title="Fibonacci Number" type="text/html">
<link rel="next" href="../greatest-common-divisor/" title="Greatest Common Divisor" type="text/html">
<meta property="og:site_name" content="Algorithmic Toolbox">
<meta property="og:title" content="Last Digit of a Large Fibonacci Number">
<meta property="og:url" content="https://github.com/necromuralist/algorithmic_toolbox/posts/last-digit-of-a-large-fibonacci-number/">
<meta property="og:description" content="Finding the last digit of a large fibonacci number.">
<meta property="og:type" content="article">
<meta property="article:published_time" content="2018-06-25T16:28:37-07:00">
<meta property="article:tag" content="algorithms problems">
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<nav class="navbar navbar-default navbar-static-top"><div class="container">
<!-- This keeps the margins nice -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="https://github.com/necromuralist/algorithmic_toolbox/">

                <span id="blog-title">Algorithmic Toolbox</span>
            </a>
        </div>
<!-- /.navbar-header -->
        <div class="collapse navbar-collapse" id="bs-navbar" aria-expanded="false">
            <ul class="nav navbar-nav">
<li>
<a href="../../archive.html">Archive</a>
                </li>
<li>
<a href="../../categories/">Tags</a>
                </li>
<li>
<a href="../../rss.xml">RSS feed</a>
            </li>
<li class="dropdown">
<a href="#" class="dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Projects <b class="caret"></b></a>
            <ul class="dropdown-menu">
<li>
<a href="../../machine-learning-projects/">Machine Learning</a>
                    </li>
<li>
<a href="https://necromuralist.github.io/p5_explorations/">P5 Explorations</a>
                    </li>
<li>
<a href="https://necromuralist.github.io/tddmachinelearning/">TDD Machine Learning</a>
                    </li>
<li>
<a href="https://necromuralist.github.io/student_intervention/">Student Intervention Project</a>
                    </li>
<li>
<a href="https://necromuralist.github.io/boston_housing/">Boston Housing Project</a>
                    </li>
<li>
<a href="https://necromuralist.github.io/data_science/">Data Science With Python</a>
            </li>
</ul>
</li>
</ul>
<!-- Google custom search --><form method="get" action="https://www.google.com/search" class="navbar-form navbar-right" role="search">
<div class="form-group">
<input type="text" name="q" class="form-control" placeholder="Search">
</div>
<button type="submit" class="btn btn-primary">
	<span class="glyphicon glyphicon-search"></span>
</button>
<input type="hidden" name="sitesearch" value="https://github.com/necromuralist/algorithmic_toolbox/">
</form>
<!-- End of custom search -->


            <ul class="nav navbar-nav navbar-right">
<li>
    <a href="index.org" id="sourcelink">Source</a>
    </li>

                
            </ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        <div class="row">
            
            
<article class="post-text h-entry hentry postpage" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title" itemprop="headline name"><a href="." class="u-url">Last Digit of a Large Fibonacci Number</a></h1>

        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                    Cloistered Monkey
            </span></p>
            <p class="dateline"><a href="." rel="bookmark"><time class="published dt-published" datetime="2018-06-25T16:28:37-07:00" itemprop="datePublished" title="2018-06-25 16:28">2018-06-25 16:28</time></a></p>
            
        <p class="sourceline"><a href="index.org" class="sourcelink">Source</a></p>

        </div>
        

    </header><div class="e-content entry-content" itemprop="articleBody text">
    <div id="outline-container-orgcfeab67" class="outline-2">
<h2 id="orgcfeab67">Introduction</h2>
<div class="outline-text-2" id="text-orgcfeab67">
<p>
The goal is to find the last digit of the <i>n</i>-th Fibonacci number. The problem is that Fibonacci numbers grow exponetially fast. For instance
</p>

<p>
\[
F_{200} =  280 571 172 992 510 140 037 611 932 413 038 677 189 525
\]
</p>

<p>
So even our iterative version will prove too slow. Also, it may produce numbers that are too large to fit in memory. So instead we are going to only save the last digit of each number.
</p>

<p>
\[
F_i \gets (F_{i-1} + F_{i-2}) \mod 10
\]
</p>
</div>
</div>

<div id="outline-container-org71dfd57" class="outline-2">
<h2 id="org71dfd57">Problem Description</h2>
<div class="outline-text-2" id="text-org71dfd57">
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">
<colgroup>
<col class="org-left">
<col class="org-left">
</colgroup>
<thead><tr>
<th scope="col" class="org-left">Â </th>
<th scope="col" class="org-left">Description</th>
</tr></thead>
<tbody>
<tr>
<td class="org-left"><b>Task</b></td>
<td class="org-left">Given an integer <i>n</i>, find the last digit of the /n/th Fibonacci number \(F_n\) (\(F_n \mod 10\))</td>
</tr>
<tr>
<td class="org-left"><b>Input</b></td>
<td class="org-left">A single integer <i>n</i>.</td>
</tr>
<tr>
<td class="org-left"><b>Constraints</b></td>
<td class="org-left">\(0 \le n \le 10^7\)</td>
</tr>
<tr>
<td class="org-left"><b>Output</b></td>
<td class="org-left">The last digit of \(F_n\)</td>
</tr>
</tbody>
</table>
</div>
</div>

<div id="outline-container-orgd38677a" class="outline-2">
<h2 id="orgd38677a">Samples</h2>
<div class="outline-text-2" id="text-orgd38677a">
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">
<colgroup>
<col class="org-right">
<col class="org-right">
</colgroup>
<thead><tr>
<th scope="col" class="org-right">Input</th>
<th scope="col" class="org-right">Output</th>
</tr></thead>
<tbody>
<tr>
<td class="org-right">3</td>
<td class="org-right">2</td>
</tr>
<tr>
<td class="org-right">331</td>
<td class="org-right">9</td>
</tr>
<tr>
<td class="org-right">327305</td>
<td class="org-right">5</td>
</tr>
</tbody>
</table>
</div>
</div>

<div id="outline-container-org8d02a20" class="outline-2">
<h2 id="org8d02a20">Constants</h2>
<div class="outline-text-2" id="text-org8d02a20">
<div class="highlight"><pre><span></span>MAX_INPUT = 10**7
MAX_TIME = 5
</pre></div>
</div>
</div>
<div id="outline-container-orge273839" class="outline-2">
<h2 id="orge273839">Imports</h2>
<div class="outline-text-2" id="text-orge273839">
<div class="highlight"><pre><span></span>from datetime import (
    datetime,
    timedelta,
    )
# this project
from algorithmic_toolbox.helpers import time_it
</pre></div>
</div>
</div>
<div id="outline-container-org78d7a2c" class="outline-2">
<h2 id="org78d7a2c">Naive Implementation</h2>
<div class="outline-text-2" id="text-org78d7a2c">
<p>
By taking the modulo of 10 for the final number you reduce it to the final digit because it's the remainder of some number times 10. For example, 112 is 110 + 2, so \(112 \mod 10\) is \(112 - (11 \times 10) = 2\).
</p>

<div class="highlight"><pre><span></span>def get_fibonacci_last_digit_naive(n):
    if n &lt;= 1:
	return n

    previous = 0
    current  = 1

    for _ in range(n - 1):
	previous, current = current, previous + current
    return current % 10
</pre></div>

<div class="highlight"><pre><span></span>time_it(get_fibonacci_last_digit_naive, "Naive", 3, 2, max_input=MAX_INPUT)
</pre></div>

<div class="highlight"><pre><span></span>time_it(get_fibonacci_last_digit_naive, "Naive", 331, 9, max_input=MAX_INPUT)
</pre></div>
</div>
</div>

<div id="outline-container-org843c922" class="outline-2">
<h2 id="org843c922">Modulo Version</h2>
<div class="outline-text-2" id="text-org843c922">
<p>
Each number in the sequence is the sum of the previous two numbers. The last digit is always the sum of the last digits of the previous two numbers. So to calculate the last digit you only need to keep track of the last digit of each number. By taking the modulus of 10, you are always.
</p>

<div class="highlight"><pre><span></span>first = (0, 1)
def get_fibonacci_last_digit_modulo(n):
    if n in first:
	return n

    previous, current = first

    for _ in range(n - 1):
	previous, current = current, (previous + current) % 10
	print("Current: {}".format(current))
    return current
</pre></div>

<div class="highlight"><pre><span></span>time_it(get_fibonacci_last_digit_modulo, "Modulo", 3, 2, max_input=MAX_INPUT)
</pre></div>

<div class="highlight"><pre><span></span>time_it(get_fibonacci_last_digit_modulo, "Modulo", 331, 9, max_input=MAX_INPUT)
</pre></div>

<div class="highlight"><pre><span></span>time_it(get_fibonacci_last_digit_modulo, "Modulo", 327305, 5, max_input=MAX_INPUT)
</pre></div>

<div class="highlight"><pre><span></span>time_it(get_fibonacci_last_digit_modulo, "Modulo", 200, 5, max_input=MAX_INPUT)
</pre></div>

<p>
This is the grader output.
</p>

<pre class="example">
Good job! (Max time used: 0.12/5.00, max memory used: 9580544/536870912.)
</pre>
</div>
</div>
    </div>
    <aside class="postpromonav"><nav><ul itemprop="keywords" class="tags">
<li><a class="tag p-category" href="../../categories/algorithms-problems/" rel="tag">algorithms problems</a></li>
        </ul>
<ul class="pager hidden-print">
<li class="previous">
                <a href="../fibonacci-number/" rel="prev" title="Fibonacci Number">Previous post</a>
            </li>
            <li class="next">
                <a href="../greatest-common-divisor/" rel="next" title="Greatest Common Divisor">Next post</a>
            </li>
        </ul></nav></aside></article>
</div>
        <!--End of body content-->

        <footer id="footer">
            Contents Â© 2018         <a href="mailto:necromuralist@protonmail.com">Cloistered Monkey</a> - Powered by         <a href="https://getnikola.com" rel="nofollow">Nikola</a>         <a rel="license" href="http://creativecommons.org/licenses/by/4.0/"><img alt="Creative Commons License" style="border-width:0" src="https://i.creativecommons.org/l/by/4.0/88x31.png"></a><br>This work is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by/4.0/">Creative Commons Attribution 4.0 International License</a>.
            
        </footer>
</div>
</div>


            <script src="../../assets/js/all-nocdn.js"></script><script>$('a.image-reference:not(.islink) img:not(.islink)').parent().colorbox({rel:"gal",maxWidth:"100%",maxHeight:"100%",scalePhotos:true});</script><!-- fancy dates --><script>
    moment.locale("en");
    fancydates(0, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates -->
</body>
</html>
